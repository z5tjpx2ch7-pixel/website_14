<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEAL THE HEALTH, HEAL OURSELVES</title>
    <style>
        /* 1. ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë° í™”ë©´ ê½‰ ì±„ìš°ê¸° */
        :root {
            /* === ìƒ‰ìƒ ë³€ìˆ˜ ìˆ˜ì •: í°ìƒ‰ ë°”íƒ•, ë§‘ì€ í‘¸ë¥¸ìƒ‰ í¬ì¸íŠ¸ === */
            --main-white: #ffffff; /* ìˆœìˆ˜í•œ í°ìƒ‰ */
            --main-blue: #007bff;   /* ë§‘ê³  ì„ ëª…í•œ í‘¸ë¥¸ìƒ‰ (í¬ì¸íŠ¸) */
            --light-blue: #6aa8ff;  /* ë°ì€ í‘¸ë¥¸ìƒ‰ (ë³´ì¡° í¬ì¸íŠ¸) */
            --text-color: #333333;  /* ì–´ë‘ìš´ íšŒìƒ‰ (ê°€ë…ì„± ë†’ì€ í…ìŠ¤íŠ¸) */
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --risk-color: #ff4500; /* ìœ„í—˜ë„ ì‹œê°í™”ë¥¼ ìœ„í•œ ê°•ì¡°ìƒ‰ (ì£¼í™©/ë¹¨ê°•) */
        }

        body {
            margin: 0;
            padding: 0;
            font-family: var(--font-family);
            color: var(--text-color);
            background-color: var(--main-white);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        h1, h2 {
            color: var(--main-blue);
        }

        /* 2. ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ (ë‹¨ìˆœí•œ ì›€ì§ì„) - í—¤ë”ì—ë§Œ ì ìš© */
        @keyframes subtle-move {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header-bg {
            background: linear-gradient(-45deg, var(--light-blue), var(--main-blue), #0056b3);
            background-size: 400% 400%;
            animation: subtle-move 15s ease infinite;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            color: var(--main-white);
        }

        h1 {
            font-size: 2.5em;
            margin: 0;
            font-weight: 300;
            letter-spacing: 2px;
            color: var(--main-white);
        }

        /* 3. ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex-grow: 1;
        }

        .section {
            background-color: var(--main-white);
            border: 1px solid #e0e0e0;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s;
        }

        .section:hover {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: var(--main-blue);
            border-bottom: 2px solid var(--light-blue);
            padding-bottom: 10px;
            margin-top: 0;
            font-size: 1.8em;
        }

        /* 4. ëŒ€ì‹œë³´ë“œ ë° ê°„ë‹¨í•œ ì‹œê°í™” */
        .dashboard {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background-color: var(--main-blue);
            color: var(--main-white);
            border-radius: 5px;
        }
        
        .dashboard-item h2, .dashboard-item h3 {
            color: var(--main-white);
        }

        .dashboard-item h3 {
            margin: 5px 0 0;
            font-size: 1.5em;
        }

        /* ê³µí†µ ê·¸ë˜í”„ ìŠ¤íƒ€ì¼ */
        .chart-container {
            margin-top: 15px;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background-color: #f8f8f8;
        }

        .bar-chart {
            display: flex;
            height: 100px;
            background-color: #f0f8ff;
            border-radius: 5px;
            align-items: flex-end;
            padding: 5px;
        }
        
        .bar {
            flex-grow: 1;
            margin: 0 5px;
            background-color: var(--main-blue); /* ê¸°ë³¸ ë§‰ëŒ€ ìƒ‰ìƒ */
            border-radius: 3px 3px 0 0;
            transition: height 0.5s ease-out;
            text-align: center;
            color: var(--main-white);
            font-size: 0.8em;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        
        /* ìœ„í—˜ë„ ê·¸ë˜í”„ ìƒ‰ìƒ ì˜¤ë²„ë¼ì´ë“œ */
        .risk-bar {
            background-color: var(--risk-color); 
        }

        /* 5. ë²„íŠ¼ ë° ì…ë ¥ ìš”ì†Œ */
        .button, button {
            background-color: var(--main-blue);
            color: var(--main-white);
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: bold;
        }

        .button:hover, button:hover {
            background-color: var(--light-blue);
            color: var(--text-color);
        }

        input[type="text"], input[type="number"], textarea, select {
            padding: 10px;
            margin-right: 10px;
            border: 1px solid var(--light-blue);
            border-radius: 5px;
            background-color: var(--main-white);
            color: var(--text-color);
        }
        
        /* 6. í€´ì¦ˆ ìŠ¤íƒ€ì¼ */
        .quiz-option {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 10px;
            background-color: #f8f8f8;
            border: 1px solid #eeeeee;
            border-left: 5px solid var(--light-blue);
            border-radius: 5px;
            color: var(--text-color);
        }
        .quiz-option:hover {
            background-color: #f0f0f0;
        }
        .quiz-option input {
            margin-right: 10px;
        }

        /* 7. Footer */
        .footer {
            padding: 15px;
            text-align: center;
            background-color: #f8f8f8;
            border-top: 1px solid #eeeeee;
            color: var(--text-color);
            margin-top: 20px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>

    <header class="header-bg">
        <h1>HEAL THE HEALTH, HEAL OURSELVES</h1>
    </header>

    <div class="dashboard" id="environment-dashboard">
        <div class="dashboard-item">
            <h2>ì˜¤ëŠ˜ì˜ ëŒ€ê¸°ì§ˆ ì§€ìˆ˜</h2>
            <h3 id="air-quality">ì¢‹ìŒ (35)</h3>
        </div>
        <div class="dashboard-item">
            <h2>ìˆ˜ì§ˆ ì˜¤ì—¼ ì§€ìˆ˜</h2>
            <h3 id="water-quality">ë³´í†µ (5.2)</h3>
        </div>
    </div>

    <div class="container">
        
        <div class="section" id="problem">
            <h2>ë¬¸ì œ ì¸ì‹ ì„¹ì…˜ ğŸ§</h2>
            <p><strong>ëŒ€ê¸°ì˜¤ì—¼ê³¼ ë¯¸ì„¸í”Œë¼ìŠ¤í‹±</strong>ì€ ì¸ë¥˜ ê±´ê°•ì„ ìœ„í˜‘í•˜ëŠ” í™˜ê²½ ë¬¸ì œì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ìˆ¨ ì‰¬ëŠ” ê³µê¸° ì†ì˜ ì˜¤ì—¼ë¬¼ì§ˆì´ ì¥ê¸°ì ìœ¼ë¡œ **í˜¸í¡ê¸° ì§ˆí™˜, ì•Œë ˆë¥´ê¸°, ì‹¬í˜ˆê´€ ì§ˆí™˜**ì„ ìœ ë°œí•  ìˆ˜ ìˆìŒì„ ì¸ì‹í•´ì•¼í•©ë‹ˆë‹¤.</p>
        </div>

        <div class="section" id="solution">
            <h2>í•´ê²° ì•„ì´ë””ì–´ âœ¨</h2>
            <p>í™˜ê²½ ë°ì´í„°ì™€ ê°œì¸ ê±´ê°• ë°ì´í„°ë¥¼ ì—°ë™í•œ **â€˜í™˜ê²½ ê±´ê°• ëª¨ë‹ˆí„°ë§ í”Œë«í¼â€™**ì„ ì œì•ˆí•©ë‹ˆë‹¤. ìœ„ì¹˜ ê¸°ë°˜ ëŒ€ê¸°ì˜¤ì—¼ ì§€ìˆ˜ë¥¼ ì œê³µí•˜ê³ , ê°œì¸ ê±´ê°• ìƒíƒœì— ë§ì¶˜ ë§ì¶¤í˜• í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
            
            <div class="chart-container">
                <p><strong>í˜„ì¬ ì‹œê°„ëŒ€ë³„ ê³µê¸°ì§ˆ ì§€ìˆ˜ (PM10)</strong></p>
                <div class="bar-chart" id="air-quality-chart">
                    </div>
            </div>
        </div>

        <div class="section" id="approach">
            <h2>ë³´ê±´í•™ì  ì ‘ê·¼ ğŸ©º</h2>
            <p>ë³´ê±´í•™ì˜ ì§€ì‹ìœ¼ë¡œ ì˜¤ì—¼ë¬¼ì§ˆì´ ì¸ì²´ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ê³¼í•™ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ê³µì¤‘ë³´ê±´í•™ì  ì ‘ê·¼ì„ í†µí•´ ì‹œë¯¼ì˜ ê±´ê°• ë°ì´í„°ì™€ í™˜ê²½ ì§€ìˆ˜ë¥¼ ì—°ê³„í•˜ì—¬ **ìœ„í—˜ë„ë¥¼ ì‹œê°í™”**í•©ë‹ˆë‹¤.</p>
            
            <div class="chart-container">
                <p><strong>í™˜ê²½ ì˜¤ì—¼ì›ë³„ ê±´ê°• ìœ„í—˜ë„ (ê°€ìƒ ë°ì´í„°)</strong></p>
                <div class="bar-chart" id="risk-chart">
                    </div>
            </div>
        </div>

        <div class="section" id="action">
            <h2>ì°¸ì—¬ ë° í–‰ë™ ì„¹ì…˜ ğŸ¤</h2>
            <p>ì§€ì—­ì‚¬íšŒ í™œë™ ì°¸ì—¬, í™˜ê²½ ìº í˜ì¸ ë“± í–‰ë™ì„ ìœ„í•œ ê¸°íšŒë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.</p>
        </div>

        <div class="section" id="data-vis">
            <h2>ì›”ë³„ ì‹¤ì²œìœ¨ ì‹œê°í™” ğŸ“Š</h2>
            <p>ì›”ë³„ ì‹¤ì²œìœ¨ ë³€í™”ë¥¼ ë³´ì—¬ì£¼ëŠ” ê°„ë‹¨í•œ ë§‰ëŒ€ ê·¸ë˜í”„ì…ë‹ˆë‹¤.</p>
            <div class="bar-chart" id="chart-area">
                </div>
        </div>

        <div class="section" id="news">
            <h2>ì˜¤ëŠ˜ì˜ í™˜ê²½ ë³´ê±´ ë‰´ìŠ¤ ğŸ“°</h2>
            <ul>
                <li>[ë‰´ìŠ¤ 1] **WHO, ëŒ€ê¸°ì˜¤ì—¼ìœ¼ë¡œ ì¸í•œ ì¡°ê¸° ì‚¬ë§ 700ë§Œ ëª… ë³´ê³ **</li>
                <li>[ë‰´ìŠ¤ 2] **ë¯¸ì„¸í”Œë¼ìŠ¤í‹±, ì¸ì²´ ì¥ê¸°ì—ì„œ ê²€ì¶œâ€¦ ì‹ ì§„ëŒ€ì‚¬ ì˜í–¥**</li>
            </ul>
        </div>

        <div class="section" id="health-record">
            <h2>ê±´ê°• ê¸°ë¡ ë° í”¼ë“œë°± ğŸ“</h2>
            <p>ì˜¤ëŠ˜ì˜ í™œë™ëŸ‰ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ ìˆ˜ì¤€ì„ ê¸°ë¡í•˜ê³  ê°„ë‹¨í•œ í”¼ë“œë°±ì„ ë°›ì•„ë³´ì„¸ìš”.</p>
            <div>
                <label for="steps">ì˜¤ëŠ˜ ê±¸ìŒ ìˆ˜ (ë§Œë³´ ê¸°ì¤€):</label>
                <input type="number" id="steps" placeholder="ì˜ˆ: 7000">
            </div>
            <div style="margin-top: 10px;">
                <label for="stress">ìŠ¤íŠ¸ë ˆìŠ¤ ìˆ˜ì¤€ (1-10):</label>
                <input type="number" id="stress" min="1" max="10" placeholder="ì˜ˆ: 5">
            </div>
            <button onclick="submitHealthRecord()">ê¸°ë¡í•˜ê³  í”¼ë“œë°± ë°›ê¸°</button>
            <p id="feedback-result" style="margin-top: 15px; font-weight: bold;"></p>
        </div>

        <div class="section" id="quiz">
            <h2>í™˜ê²½ í€´ì¦ˆ ë° ì§€ìˆ˜ ì¸¡ì • â“</h2>
            <p id="quiz-question">í€´ì¦ˆë¥¼ í’€ê³  ë‚˜ì˜ í™˜ê²½ ì§€ìˆ˜ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”! (ì´ 3ë¬¸ì œ)</p>
            <div id="quiz-area">
                </div>
            <button onclick="checkQuizResult()" style="display: none;" id="submit-quiz-btn">ê²°ê³¼ í™•ì¸</button>
            <p id="quiz-result" style="margin-top: 15px; font-weight: bold;"></p>
        </div>

        <div class="section" id="support">
            <h2>í›„ì› ì‹œìŠ¤í…œ ë° ì‹¤ì²œ ì¸ì¦ ğŸ’–âœ…</h2>
            <button class="button">HEAL ìº í˜ì¸ í›„ì›í•˜ê¸°</button>
            <button class="button">ì˜¤ëŠ˜ì˜ ì‹¤ì²œ ì¸ì¦í•˜ê¸°</button>
            <p style="margin-top: 10px;">ì—¬ëŸ¬ë¶„ì˜ ì‘ì€ ì°¸ì—¬ê°€ ì„¸ìƒì„ ì¹˜ìœ í•©ë‹ˆë‹¤.</p>
        </div>

    </div>

    <footer class="footer">
        &copy; 2025 HEAL THE HEALTH, HEAL OURSELVES. All rights reserved.
    </footer>

    <script>
        // 1. í™˜ê²½ ëŒ€ì‹œë³´ë“œ ë°ì´í„° ì—…ë°ì´íŠ¸ (ë”ë¯¸ ë°ì´í„°)
        function updateDashboard() {
            const airQualityIndex = Math.floor(Math.random() * (150 - 20 + 1)) + 20; // 20~150
            let airQualityStatus;

            if (airQualityIndex <= 50) {
                airQualityStatus = "ì¢‹ìŒ";
            } else if (airQualityIndex <= 100) {
                airQualityStatus = "ë³´í†µ";
            } else {
                airQualityStatus = "ë‚˜ì¨";
            }

            document.getElementById('air-quality').textContent = `${airQualityStatus} (${airQualityIndex})`;
            document.getElementById('water-quality').textContent = `ë³´í†µ (${(Math.random() * (7 - 4) + 4).toFixed(1)})`;
        }
        
        // ê·¸ë˜í”„ ìƒì„± ê³µí†µ í•¨ìˆ˜
        function createBarChart(containerId, data, isRiskChart = false) {
            const chartArea = document.getElementById(containerId);
            chartArea.innerHTML = '';
            const maxValue = 100;

            data.forEach(item => {
                const bar = document.createElement('div');
                const height = (item.value / maxValue) * 100;
                bar.className = 'bar';
                
                // ìœ„í—˜ë„ ê·¸ë˜í”„ì¼ ê²½ìš° ë¹¨ê°„ìƒ‰ ê³„ì—´ ìŠ¤íƒ€ì¼ ì ìš©
                if (isRiskChart) {
                    bar.classList.add('risk-bar');
                    // ìœ„í—˜ë„ê°€ ë†’ì„ìˆ˜ë¡ ë” ì§„í•œ ìƒ‰ìƒì„ ì ìš©í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë‚˜, ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ ê³ ì •ìƒ‰ ì‚¬ìš©
                }
                
                bar.style.height = `${height}%`;
                bar.innerHTML = `<span>${item.label}<br>${item.value}</span>`;
                chartArea.appendChild(bar);
            });
        }

        // 2. ì›”ë³„ ì‹¤ì²œìœ¨ ì‹œê°í™” (ê¸°ì¡´ í•¨ìˆ˜)
        function renderSimpleChart() {
            const data = [
                { label: '1ì›”', value: 75 },
                { label: '2ì›”', value: 85 },
                { label: '3ì›”', value: 60 },
                { label: '4ì›”', value: 90 }
            ];
            createBarChart('chart-area', data);
        }

        // 3. í•´ê²° ì•„ì´ë””ì–´ ì„¹ì…˜ - ê³µê¸°ì§ˆ ì§€ìˆ˜ ê·¸ë˜í”„
        function renderAirQualityChart() {
            // ì‹œê°„ëŒ€ë³„ PM10 ì§€ìˆ˜ (ì˜ˆì‹œ ë°ì´í„°)
            const airData = [
                { label: '8ì‹œ', value: 55 },
                { label: '12ì‹œ', value: 78 },
                { label: '18ì‹œ', value: 92 },
                { label: '22ì‹œ', value: 45 }
            ];
            createBarChart('air-quality-chart', airData);
        }
        
        // 4. ë³´ê±´í•™ì  ì ‘ê·¼ ì„¹ì…˜ - ìœ„í—˜ë„ ì‹œê°í™” ê·¸ë˜í”„
        function renderRiskChart() {
            // í™˜ê²½ ì˜¤ì—¼ì›ë³„ ê±´ê°• ìœ„í—˜ë„ (0-100ì  ì²™ë„, ì˜ˆì‹œ ë°ì´í„°)
            const riskData = [
                { label: 'ë¯¸ì„¸ë¨¼ì§€', value: 85 },
                { label: 'ë¯¸ì„¸í”Œë¼ìŠ¤í‹±', value: 70 },
                { label: 'ìˆ˜ì§ˆ', value: 40 },
                { label: 'ì†ŒìŒ', value: 30 }
            ];
            createBarChart('risk-chart', riskData, true); // ì„¸ ë²ˆì§¸ ì¸ìë¥¼ trueë¡œ ë„˜ê²¨ ìœ„í—˜ë„ ìŠ¤íƒ€ì¼ ì ìš©
        }


        // 5. ê±´ê°• ê¸°ë¡ ë° í”¼ë“œë°± ë¡œì§ (ì´ì „ê³¼ ë™ì¼)
        function submitHealthRecord() {
            const steps = parseInt(document.getElementById('steps').value) || 0;
            const stress = parseInt(document.getElementById('stress').value) || 0;
            const feedbackElement = document.getElementById('feedback-result');
            let feedback = "ê¸°ë¡í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ";

            if (steps < 7000) {
                feedback += "í™œë™ëŸ‰ì´ ë¶€ì¡±í•´ ë³´ì´ë„¤ìš”. ê±´ê°•í•œ í™˜ê²½ì„ ìœ„í•´ ë°–ìœ¼ë¡œ ë‚˜ê°€ ê±·ëŠ” ì‹œê°„ì„ ëŠ˜ë ¤ë³´ì„¸ìš”! ";
            } else {
                feedback += "í™œë™ëŸ‰ì´ ì•„ì£¼ ì¢‹ìœ¼ì‹œë„¤ìš”. í™˜ê²½ ë³´í˜¸ì™€ ê±´ê°• ê´€ë¦¬ë¥¼ ì˜ ë³‘í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤! ";
            }

            if (stress >= 7) {
                feedback += "ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜ê°€ ë†’ìŠµë‹ˆë‹¤. ì ì‹œ ìì—° ì†ì—ì„œ íœ´ì‹ì„ ì·¨í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ";
            } else {
                feedback += "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ë¥¼ ì˜ í•˜ê³  ê³„ì‹­ë‹ˆë‹¤. ê¸ì •ì ì¸ ë§ˆìŒìœ¼ë¡œ í™˜ê²½ ë³´í˜¸ì— í˜ì¨ì£¼ì„¸ìš”.";
            }

            feedbackElement.textContent = feedback;
        }

        // 6. í™˜ê²½ í€´ì¦ˆ ë¡œì§ (ì´ì „ê³¼ ë™ì¼)
        const quizData = [
            {
                question: "ë‹¤ìŒ ì¤‘ ë¯¸ì„¸ë¨¼ì§€ ì €ê°ì— ê°€ì¥ íš¨ê³¼ì ì¸ ê°œì¸ ì‹¤ì²œì€?",
                options: ["ìŠ¹ìš©ì°¨ ìê°€ìš© ì´ìš©", "ëŒ€ì¤‘êµí†µ ì´ìš©", "ì‹¤ë‚´ì—ì„œë§Œ ìƒí™œ", "í™”ëª© ë‚œë¡œ ì‚¬ìš©"],
                answer: 1 // ì¸ë±ìŠ¤
            },
            {
                question: "ë¶„ë¦¬ìˆ˜ê±° ì‹œ íˆ¬ëª… í˜íŠ¸ë³‘ì˜ ì˜¬ë°”ë¥¸ ì²˜ë¦¬ ë°©ë²•ì€?",
                options: ["ë¼ë²¨ì„ ì œê±°í•˜ì§€ ì•Šê³  ë²„ë¦°ë‹¤", "ë‚´ìš©ë¬¼ì„ ë¹„ìš°ê³  ì••ì°© í›„ ë¼ë²¨ì„ ì œê±°í•œë‹¤", "ìœ ìƒ‰ í”Œë¼ìŠ¤í‹±ê³¼ í•¨ê»˜ ë²„ë¦°ë‹¤", "ê·¸ëƒ¥ ì¼ë°˜ ì“°ë ˆê¸°ë¡œ ë²„ë¦°ë‹¤"],
                answer: 1
            },
            {
                question: "ë³´ê±´í•™ì ìœ¼ë¡œ ê¹¨ë—í•œ ë¬¼ì€ ì–´ë–¤ ì˜¤ì—¼ì›ê³¼ ê±°ë¦¬ê°€ ë©€ì–´ì•¼ í• ê¹Œìš”?",
                options: ["í† ì–‘", "ê³µê¸°", "ë¯¸ìƒë¬¼ ë° í™”í•™ ë¬¼ì§ˆ", "ì‹ë¬¼"],
                answer: 2
            }
        ];

        let userAnswers = new Array(quizData.length).fill(null);

        function renderQuiz() {
            const quizArea = document.getElementById('quiz-area');
            quizArea.innerHTML = '';
            
            quizData.forEach((q, index) => {
                const questionHtml = document.createElement('div');
                questionHtml.style.marginBottom = '20px';
                questionHtml.innerHTML = `<p><strong>Q${index + 1}. ${q.question}</strong></p>`;
                
                q.options.forEach((option, optionIndex) => {
                    const label = document.createElement('label');
                    label.className = 'quiz-option';
                    label.innerHTML = `
                        <input type="radio" name="question${index}" value="${optionIndex}" onchange="recordAnswer(${index}, ${optionIndex})">
                        ${option}
                    `;
                    questionHtml.appendChild(label);
                });
                quizArea.appendChild(questionHtml);
            });

            document.getElementById('submit-quiz-btn').style.display = 'block';
        }

        function recordAnswer(questionIndex, answerIndex) {
            userAnswers[questionIndex] = answerIndex;
        }

        function checkQuizResult() {
            let correctCount = 0;
            const totalQuestions = quizData.length;

            for (let i = 0; i < totalQuestions; i++) {
                if (userAnswers[i] === quizData[i].answer) {
                    correctCount++;
                }
            }

            const score = Math.round((correctCount / totalQuestions) * 100);
            let environmentalIndex = "ë³´í†µ";

            if (score === 100) {
                environmentalIndex = "ë§¤ìš° ë†’ìŒ (ì§€êµ¬ ì§€í‚´ì´ ğŸŒ)";
            } else if (score >= 66) {
                environmentalIndex = "ë†’ìŒ (ê´€ì‹¬ì„ ê°€ì§€ê³  ì‹¤ì²œ ì¤‘)";
            }

            document.getElementById('quiz-result').innerHTML = 
                `<strong>ê²°ê³¼:</strong> ${totalQuestions} ë¬¸ì œ ì¤‘ ${correctCount}ê°œ ì •ë‹µ. í™˜ê²½ ì§€ìˆ˜: <strong>${environmentalIndex}</strong> (${score}ì )`;
        }

        // ì´ˆê¸°í™” í•¨ìˆ˜ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            updateDashboard();
            setInterval(updateDashboard, 5000); 
            
            renderSimpleChart(); // ì›”ë³„ ì‹¤ì²œìœ¨
            renderAirQualityChart(); // ê³µê¸°ì§ˆ ì§€ìˆ˜
            renderRiskChart(); // ìœ„í—˜ë„ ì‹œê°í™”
            
            renderQuiz();
        });

    </script>
</body>
</html>
